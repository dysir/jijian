!function (t) { function n(n) { t(parent.document.body).find("#myAlert").length < 1 && t(parent.document.body).append(t(o)), e = t(parent.document.body).find("#myAlert"), e.length > 0 && null != n && (e.confirm(n), e.click()) } t.fn.confirm = function (n) { return "undefined" == typeof n && (n = {}), this.click(function (o) { o.preventDefault(); var e = t.extend({ button: t(this) }, n); t.confirm(e, o) }), this }, t.confirm = function (n, o) { t(".confirmation-modal").length > 0 && t(".confirmation-modal").remove(); var e = {}; if (n.button) { var i = { title: "title", text: "text", "confirm-button": "confirmButton", "cancel-button": "cancelButton", "confirm-button-class": "confirmButtonClass", "cancel-button-class": "cancelButtonClass" }; t.each(i, function (t, o) { var i = n.button.data(t); i && (e[o] = i) }) } var l = t.extend({}, t.confirm.options, { confirm: function () { if (n.post) { var e = o && ("string" == typeof o && o || o.currentTarget && o.currentTarget.attributes.href && o.currentTarget.attributes.href.value); if (e) if (n.post) { var i = t('<form method="post" class="hide" action="' + e + '"></form>'); t(parent.document.body).append(i), i.submit() } else window.location = e } }, cancel: function () { }, button: null }, e, n), a = "", r = "", c = "", s = "", d = ""; null != n.title ? (a = '<div class=modal-header style="height:40px;"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="position:absolute; top:11px; right:10px;">&times;</button><h4 class="modal-title" style="position:absolute; top:8px;">' + l.title + "</h4></div>", c = '<div class="modal-body">' + l.text + "</div>") : c = '<div class="modal-body">' + (null == n.confirmButton ? '<button type="button" class="close" data-dismiss="modal" aria-label="true">&times;</button>' : "") + l.text + "</div>", null != n.confirmButton && (null != n.cancelButton ? (s = '<button class="confirm btn btn-mini ' + l.confirmButtonClass + '" type="button" data-dismiss="modal" style="height:30px;width:40px; padding:0px;position:absolute;bottom:6px;right:75px;">' + l.confirmButton + "</button>", d = '<button class="cancel btn btn-mini ' + l.cancelButtonClass + '" type="button" data-dismiss="modal" style=" height:30px;width:40px; padding:0px;position:absolute;bottom:6px;right:10px;margin-right:10px;">' + l.cancelButton + "</button>") : s = '<button class="confirm btn btn-mini ' + l.confirmButtonClass + '" type="button" data-dismiss="modal" style="height:30px;width:40px; padding:0px;position:absolute;bottom:6px;right:10px;margin-right:10px;">' + l.confirmButton + "</button>"), n.controlButton && (r = '<div class="modal-footer" style="height:45px;">' + s + d + "</div>"); var u = '<div class="confirmation-modal modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" style="z-index:inherit;"><div class="modal-content">' + a + c + r + "</div></div></div>", m = t(u); switch (n.style) { case "AlertWarning": m.find(".modal-content").addClass("AlertWarning"); break; case "AlertSuccess": m.find(".modal-content").addClass("AlertSuccess"); break; case "AlertError": m.find(".modal-content").addClass("AlertError") } m.on("shown.bs.modal", function () { t(parent.document.body).find("#myAlert").length > 0 && t(parent.document.body).find("#myAlert").remove() }), m.on("hidden.bs.modal", function () { t(parent.document.body).find("#myAlert").length > 0 && t(parent.document.body).find("#myAlert").remove(), m.remove() }), m.find(".confirm").click(function () { l.confirm(l.button) }), m.find(".cancel").click(function () { l.cancel(l.button) }), t(parent.document.body).append(m), m.modal(null != n.confirm ? { backdrop: "static", keyboard: !1 } : "show") }, t.confirm.options = { text: "Are you sure?", title: "提示", confirmButton: "确定", cancelButton: "取消", style: null, controlButton: !1, post: !1, confirmButtonClass: "btn-primary", cancelButtonClass: "btn-default" }; var o = '<div id="myAlert" hidden="hidden"></div>', e = null; myAlert = function (t, o) { var e = { text: t, title: o, style: "AlertSuccess" }; n(e) }, myAlertWarning = function (t, o) { var e = { text: t, title: o, style: "AlertWarning" }; n(e) }, myAlertError = function (t, o) { var e = { text: t, title: o, style: "AlertError" }; n(e) }, myAlertSuccess = function (t, o, e) { var i = { text: t, title: e, style: "AlertSuccess", controlButton: !0, confirm: function () { null != o && o() }, confirmButton: "确定", confirmButtonClass: "btn-primary" }; n(i) }, myConfirm = function (t, o, e) { var i = { text: t, title: e, controlButton: !0, confirm: function () { null != o && o() }, confirmButton: "确定", cancelButton: "取消", confirmButtonClass: "btn-primary", cancelButtonClass: "btn-default" }; n(i) } }(jQuery);